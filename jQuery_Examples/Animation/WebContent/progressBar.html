<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>Insert title here</title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script type="text/javascript">
$(document).ready(function(){
	var previousPercentage=0;
	var currentPercentage=0;
	$('#myButton').click(function(){
		previousPercentage=currentPercentage;
		currentPercentage=$('#ddlPercentage').val();
		animateProgressBar(previousPercentage,currentPercentage);
		});
	function animateProgressBar(previousPercentage,currentPercentage){
		$('#innerDiv').animate({
			'width':(500*currentPercentage)/100
			},3000);
		$({counter:previousPercentage}).animate({counter: currentPercentage},
				{duration:3000,step:function(){
					$('#innerDiv').text(Math.ceil(this.counter)+'%');
					}
			});
		}	
});
</script>
</head>
<body style="font-family:arial">
Select Percentage:
<select id="ddlPercentage">
	<option value="10">10</option>
	<option value="20">20</option>
	<option value="30">30</option>
	<option value="40">40</option>
	<option value="50">50</option>
	<option value="60">60</option>
	<option value="70">70</option>
	<option value="80">80</option>
	<option value="90">90</option>
	<option value="100">100</option>
</select>
<input type="button" id="myButton" value="start animation"/>
<br/><br/>
<div id="outerDiv" style="background-color: #EEEEEE; height:20px; width:500px; padding:5px">
<div id="innerDiv" style="background-color: red; height:19px; width:0px; color:white; text-align:center">
</div>
</div>
</body>
</html>